Index: inheritance.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nif (!isset($_GET['reload'])) {\r\n    echo '<meta http-equiv=Refresh content=\"0;url=inheritance.php?reload=1\">';\r\n}\r\n\r\n?>\r\n\r\n<?php include 'include/header.php'; ?>\r\n<?php include 'include/aside.php'; ?>\r\n\r\n<?php\r\n//function to sort the class_name using getBetween function\r\nfunction getBetween($codeLine, $start, $end)\r\n{\r\n    $codeLine = \" \" . $codeLine;\r\n    $ini = strpos($codeLine, $start);\r\n    if ($ini == 0)\r\n        return \" \";\r\n    $ini += strlen($start);\r\n    $len = strpos($codeLine, $end, $ini) - $ini;\r\n    return substr($codeLine, $ini, $len);\r\n}\r\n//To sort out the classes\r\nclass inheri\r\n{\r\n    public $name;\r\n    public $indirect;\r\n    public $superClass;\r\n    function __construct()\r\n    {\r\n        $this->name = \"\";\r\n        $this->indirect = 0;\r\n        $this->superClass = null;\r\n    }\r\n    function set_name($name)\r\n    {\r\n        $this->name = $name;\r\n    }\r\n    function set_indirect($indirect)\r\n    {\r\n        $this->indirect = $indirect;\r\n    }\r\n    function set_extends($var)\r\n    {\r\n        $this->superClass = $var;\r\n    }\r\n    function get_extends()\r\n    {\r\n        return $this->superClass;\r\n    }\r\n    function get_name()\r\n    {\r\n        return $this->name;\r\n    }\r\n    function get_direct()\r\n    {\r\n        if (is_string($this->superClass)) {\r\n            $ix = 1;\r\n        } else {\r\n            $ix = 0;\r\n        }\r\n        return $ix;\r\n    }\r\n    function get_indirect()\r\n    {\r\n        return $this->indirect;\r\n    }\r\n}\r\n//Function to find NIDI\r\nfunction findNidi($extend)\r\n{\r\n    global $classes;\r\n    global $cnt;\r\n    foreach ($classes as $key) {\r\n        if ($key->get_name() == $extend) {\r\n            $name1 = $key->get_extends();\r\n            if (!empty($name1)) {\r\n                $cnt++;\r\n                findNidi($name1);\r\n            }\r\n        }\r\n    }\r\n}\r\n?>\r\n\r\n<?php\r\n\r\n$ds = DIRECTORY_SEPARATOR;  // Store directory separator (DIRECTORY_SEPARATOR) to a simple variable. This is just a personal preference as we hate to type long variable name.\r\n$storeFolder = 'uploads';   // Declare a variable for destination folder.\r\n\r\n$tempFile = $_FILES['file']['tmp_name'];        // If file is sent to the page, store the file object to a temporary variable.\r\n$targetPath = __DIR__ . $ds . $storeFolder . $ds;  // Create the absolute path of the destination folder.\r\n\r\n$newFileName = $_FILES['file']['name'];\r\n$targetFile = $targetPath . $newFileName;  // Create the absolute path of the uploaded file destination.\r\nmove_uploaded_file($tempFile, $targetFile); // Move uploaded file to destination.\r\n\r\n// Include and initialize Extractor class (Zip file extracting)\r\nrequire 'Extractor.class.php';\r\n$extractor = new Extractor;\r\n\r\n// Path of archive file\r\n$archivePath = $targetFile;\r\n\r\n// Destination path\r\n$destPath = $storeFolder;\r\n\r\n// Extract archive file\r\n$extract = $extractor->extract($archivePath, $storeFolder);\r\n\r\n$dir_name = $storeFolder;\r\n$ext = 'zip';\r\n\r\nif ($extract) {\r\n    echo $GLOBALS['status']['success'];\r\n    unlink_recursive($dir_name, $ext);\r\n\r\n} else {\r\n    echo $GLOBALS['status']['error'];\r\n}\r\n\r\n\r\nif ($handle = opendir('uploads')) {\r\n\r\n    while (false !== ($entry = readdir($handle))) {\r\n        if ($entry != \".\" && $entry != \"..\") {\r\n\r\n            $entry_arr_af = preg_split(\"/\\.java/\", $entry);\r\n            $entry_arr = array_filter($entry_arr_af);\r\n\r\n            foreach ($entry_arr\r\n\r\n                     as $files) {\r\n\r\n                $content = file_get_contents('uploads/' . $entry);\r\n\r\n//  Removes single line '//' comments, treats blank characters\r\n                $single = preg_replace('![ \\t]*//.*[ \\t]*[\\r\\n]!', '', $content);\r\n\r\n                $multiple = preg_replace('#/\\*[^*]*\\*+([^/][^*]*\\*+)*/#', '', $single);\r\n                $excess = preg_replace('/\\s+/', ' ', $multiple);\r\n                $trim = trim($excess, \" \");\r\n//$for_semicolon = preg_replace('/;(?=((?!\\().)*?\\))/', '余', $trim);\r\n                $for_semicolon = preg_replace_callback(/** @lang text */ '~\\b(?:while|for)\\s*(\\((?:[^()]++|(?1))*\\))~u', static function ($m) {\r\n                    return str_replace(';', '余', $m[0]);\r\n                },\r\n                    $trim);\r\n                $split = preg_split('/(?<=[;{}])/', $for_semicolon, 0, PREG_SPLIT_NO_EMPTY);\r\n\r\n                $_SESSION['split_code'] = $split;\r\n                $_SESSION['files'] = $entry;\r\n                $_SESSION['trimmed'] = $trim;\r\n                $_SESSION['entireCode'] = $trim;\r\n                $_SESSION['filename'] = $entry;\r\n\r\n\r\n                ?>\r\n\r\n\r\n                <div class=\"kt-content kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor\" id=\"kt_content\">\r\n\r\n                <!-- begin:: Content Head -->\r\n                <div class=\"kt-subheader  kt-grid__item\" id=\"kt_subheader\">\r\n                    <div class=\"kt-container  kt-container--fluid \">\r\n                        <div class=\"kt-subheader__main\">\r\n                            <h3 class=\"kt-subheader__title\">Inheritance Complexity of the Program</h3>\r\n                            <span class=\"kt-subheader__separator kt-subheader__separator--v\"></span>\r\n\r\n\r\n                            <div class=\"kt-input-icon kt-input-icon--right kt-subheader__search kt-hidden\">\r\n                                <input type=\"text\" class=\"form-control\" placeholder=\"Search order...\" id=\"generalSearch\">\r\n                                <span class=\"kt-input-icon__icon kt-input-icon__icon--right\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span><i class=\"flaticon2-search-1\"></i></span>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"kt-subheader__toolbar\">\r\n                            <a href=\"total_weight.php\" class=\"btn btn-label-warning btn-bold btn-sm btn-icon-h kt-margin-l-10\">\r\n                                Total Weight of the Program\r\n                            </a>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- end:: Content Head -->\r\n                <?php\r\n\r\n\r\n\r\n                $entry_arr_af = preg_split(\"/\\.java/\", $entry);\r\n                $entry_arr = array_filter($entry_arr_af);\r\n\r\n                foreach ($entry_arr as $files_arr) {\r\n\r\n                    $fi = new FilesystemIterator($storeFolder, FilesystemIterator::SKIP_DOTS);\r\n                    $limit = (iterator_count($fi));\r\n\r\n                    $lastRow = \"SELECT * FROM ( SELECT * FROM ci ORDER BY CiID DESC LIMIT $limit) result ORDER BY CiID ASC\";\r\n                    $run_query_last = mysqli_query($con,$lastRow);\r\n\r\n                    \r\n                    while ($lastrow = mysqli_fetch_assoc($run_query_last)) {\r\n                        $CiID_last = $lastrow['CiID'];\r\n                        $CiValue_last = $lastrow['CiValue'];\r\n\r\n                        ?>\r\n                        <!-- begin:: Content -->\r\n                        <div class=\"kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid\">\r\n                            <!--Begin::Dashboard 3-->\r\n                            <!--Begin::Row-->\r\n                            <div class=\"row\">\r\n\r\n\r\n                                <div class=\"col-lg-12\">\r\n\r\n\r\n                                    <!--begin::Portlet-->\r\n                                    <div style=\"background-color: #F4F7FF;\" class=\"kt-portlet kt-portlet--skin-solid kt-portlet--\">\r\n                                        <div class=\"kt-portlet__head\">\r\n                                            <div class=\"kt-portlet__head-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"kt-portlet__head-icon kt-font-brand\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"flaticon-time-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n                                                <h3 class=\"kt-portlet__head-title kt-font-brand\">\r\n                                                    Complexity of the Program due to Inheritance\r\n                                                </h3>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                        <div class=\"kt-portlet__body kt-font-brand\">\r\n\r\n\r\n                                            <div class=\"row\">\r\n\r\n                                                <div class=\"col-lg-12\">\r\n                                                    <div class=\"kt-portlet kt-iconbox kt-iconbox--brand kt-iconbox--animate-slower\">\r\n                                                        <div class=\"kt-portlet__body\">\r\n                                                            <div class=\"kt-iconbox__body\">\r\n                                                                <div class=\"kt-iconbox__icon\">\r\n                                                                    <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                                         xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                                                                         height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\"\r\n                                                                         class=\"kt-svg-icon\">\r\n                                                                        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\r\n                                                                            <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\r\n                                                                            <path d=\"M2.56066017,10.6819805 L4.68198052,8.56066017 C5.26776695,7.97487373 6.21751442,7.97487373 6.80330086,8.56066017 L8.9246212,10.6819805 C9.51040764,11.267767 9.51040764,12.2175144 8.9246212,12.8033009 L6.80330086,14.9246212 C6.21751442,15.5104076 5.26776695,15.5104076 4.68198052,14.9246212 L2.56066017,12.8033009 C1.97487373,12.2175144 1.97487373,11.267767 2.56066017,10.6819805 Z M14.5606602,10.6819805 L16.6819805,8.56066017 C17.267767,7.97487373 18.2175144,7.97487373 18.8033009,8.56066017 L20.9246212,10.6819805 C21.5104076,11.267767 21.5104076,12.2175144 20.9246212,12.8033009 L18.8033009,14.9246212 C18.2175144,15.5104076 17.267767,15.5104076 16.6819805,14.9246212 L14.5606602,12.8033009 C13.9748737,12.2175144 13.9748737,11.267767 14.5606602,10.6819805 Z\"\r\n                                                                                  fill=\"#000000\" opacity=\"0.3\"/>\r\n                                                                            <path d=\"M8.56066017,16.6819805 L10.6819805,14.5606602 C11.267767,13.9748737 12.2175144,13.9748737 12.8033009,14.5606602 L14.9246212,16.6819805 C15.5104076,17.267767 15.5104076,18.2175144 14.9246212,18.8033009 L12.8033009,20.9246212 C12.2175144,21.5104076 11.267767,21.5104076 10.6819805,20.9246212 L8.56066017,18.8033009 C7.97487373,18.2175144 7.97487373,17.267767 8.56066017,16.6819805 Z M8.56066017,4.68198052 L10.6819805,2.56066017 C11.267767,1.97487373 12.2175144,1.97487373 12.8033009,2.56066017 L14.9246212,4.68198052 C15.5104076,5.26776695 15.5104076,6.21751442 14.9246212,6.80330086 L12.8033009,8.9246212 C12.2175144,9.51040764 11.267767,9.51040764 10.6819805,8.9246212 L8.56066017,6.80330086 C7.97487373,6.21751442 7.97487373,5.26776695 8.56066017,4.68198052 Z\"\r\n                                                                                  fill=\"#000000\"/>\r\n                                                                        </g>\r\n                                                                    </svg>\r\n                                                                </div>\r\n                                                                <div class=\"col-lg-12\">\r\n                                                                    <div class=\"kt-iconbox__desc kt-font-brand\">\r\n\r\n                                                                        <center><h1 style=\"font-family: 'Fira Code'\">Ci\r\n                                                                                : <?php echo $CiValue_last ?>\r\n\r\n\r\n                                                                            </h1></center>\r\n\r\n\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n\r\n                                            </div>\r\n\r\n\r\n\r\n\r\n                                            <div class=\"kt-portlet__foot\">\r\n                                                <div class=\"kt-form__actions\">\r\n                                                    <div class=\"row\">\r\n\r\n\r\n                                                        <!-- begin:: Content -->\r\n                                                        <div class=\"kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid\">\r\n\r\n                                                            <div class=\"kt-portlet kt-portlet--mobile\">\r\n                                                                <div class=\"kt-portlet__head kt-portlet__head--lg\">\r\n                                                                    <div class=\"kt-portlet__head-label\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"kt-portlet__head-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"kt-font-brand flaticon2-line-chart\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n                                                                        <h3 class=\"kt-portlet__head-title kt-font-brand\">\r\n                                                                            Complexity of the Program due to the Inheritance by Statement\r\n                                                                            : </h3>&nbsp;\r\n                                                                        <h3 class=\"kt-portlet__head-title kt-font-dark\"><?php echo $entry; ?>\r\n                                                                        </h3>\r\n                                                                    </div>\r\n                                                                    <div class=\"kt-portlet__head-toolbar\">\r\n                                                                        <div class=\"kt-portlet__head-wrapper\">\r\n                                                                            <div class=\"kt-portlet__head-actions\">\r\n                                                                                <div class=\"dropdown dropdown-inline\">\r\n                                                                                    <button type=\"button\"\r\n                                                                                            class=\"btn btn-default btn-icon-sm dropdown-toggle\"\r\n                                                                                            data-toggle=\"dropdown\" aria-haspopup=\"true\"\r\n                                                                                            aria-expanded=\"false\">\r\n                                                                                        <i class=\"la la-download\"></i> Export\r\n                                                                                    </button>\r\n                                                                                    <div class=\"dropdown-menu dropdown-menu-right\">\r\n                                                                                        <ul class=\"kt-nav\">\r\n                                                                                            <li class=\"kt-nav__section kt-nav__section--first\">\r\n                                                                                                <span class=\"kt-nav__section-text\">Choose an option</span>\r\n                                                                                            </li>\r\n                                                                                            <li class=\"kt-nav__item\">\r\n                                                                                                <a href=\"#\" class=\"kt-nav__link\">\r\n                                                                                                    <i class=\"kt-nav__link-icon la la-print\"></i>\r\n                                                                                                    <span class=\"kt-nav__link-text\">Print</span>\r\n                                                                                                </a>\r\n                                                                                            </li>\r\n                                                                                            <li class=\"kt-nav__item\">\r\n                                                                                                <a href=\"#\" class=\"kt-nav__link\">\r\n                                                                                                    <i class=\"kt-nav__link-icon la la-copy\"></i>\r\n                                                                                                    <span class=\"kt-nav__link-text\">Copy</span>\r\n                                                                                                </a>\r\n                                                                                            </li>\r\n                                                                                            <li class=\"kt-nav__item\">\r\n                                                                                                <a href=\"#\" class=\"kt-nav__link\">\r\n                                                                                                    <i class=\"kt-nav__link-icon la la-file-excel-o\"></i>\r\n                                                                                                    <span class=\"kt-nav__link-text\">Excel</span>\r\n                                                                                                </a>\r\n                                                                                            </li>\r\n                                                                                            <li class=\"kt-nav__item\">\r\n                                                                                                <a href=\"#\" class=\"kt-nav__link\">\r\n                                                                                                    <i class=\"kt-nav__link-icon la la-file-text-o\"></i>\r\n                                                                                                    <span class=\"kt-nav__link-text\">CSV</span>\r\n                                                                                                </a>\r\n                                                                                            </li>\r\n                                                                                            <li class=\"kt-nav__item\">\r\n                                                                                                <a href=\"#\" class=\"kt-nav__link\">\r\n                                                                                                    <i class=\"kt-nav__link-icon la la-file-pdf-o\"></i>\r\n                                                                                                    <span class=\"kt-nav__link-text\">PDF</span>\r\n                                                                                                </a>\r\n                                                                                            </li>\r\n                                                                                        </ul>\r\n                                                                                    </div>\r\n                                                                                </div>\r\n\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n\r\n                                                                <div class=\"kt-portlet__body kt-font-dark\">\r\n                                                                    <!--begin: Datatable -->\r\n                                                                    <table style=\"font-family: 'Fira Code'; text-align: center\"\r\n                                                                           class=\"table table-striped- table-bordered table-hover\"\r\n                                                                           id=\"kt_table_1\">\r\n                                                                        <thead>\r\n                                                                        <tr class=\"kt-label-bg-color-1\"\r\n                                                                            style=\"font-family: 'Fira Code Medium'\">\r\n                                                                            <th>Count</th>\r\n                                                                            <th>Class Name</th>\r\n                                                                            <th>No. of direct inheritances</th>\r\n                                                                            <th>No. of indirect inheritances</th>\r\n                                                                            <th>Total inheritances</th>\r\n                                                                            <th style=\"color: white\" class=\"kt-label-bg-color-2\">Ci</th>\r\n\r\n                                                                        </tr>\r\n                                                                        </thead>\r\n                                                                        <tbody>\r\n                                                                        <?php\r\n\r\n                                                                       /* $i = 0; //increment to each loop\r\n                                                                        $count = 0;\r\n                                                                        $total_cs = 0;\r\n\r\n                                                                       $Nkw = 0;\r\n                                                                       $Nid = 0;\r\n                                                                        $Nop = 0;\r\n                                                                        $Nnv = 0;\r\n                                                                        $Nsl = 0;\r\n                                                                        $Cs = 0;*/\r\n\r\n                                                                        $lastRow = \"SELECT * FROM inheritance ORDER BY InheritanceID DESC LIMIT 1\";\r\n                                                                        $run_query_last = mysqli_query($con, $lastRow);\r\n\r\n                                                                        while ($lastrow = mysqli_fetch_assoc($run_query_last)) {\r\n                                                                        $InheritanceID_last = $lastrow['InheritanceID'];\r\n                                                                        $NoInheritance_last = $lastrow['NoInheritance'];\r\n                                                                        $OneUserDefined_last = $lastrow['One'];\r\n                                                                        $TwoUserDefined_last = $lastrow['Two'];\r\n                                                                        $ThreeUserDefined_last = $lastrow['Three'];\r\n                                                                        $MoreUserDefined_last = $lastrow['MoreThree'];\r\n\r\n\r\n                                                                        $i = 0;  //increment to each loop\r\n                                                                        $line_count = 0;\r\n                                                                        $count = 0;\r\n                                                                        $count2 = 0;\r\n                                                                        $total_ci = 0;\r\n\r\n                                                                        //Default weights\r\n                                                                        global $weight_no_ud_class;\r\n                                                                        $weight_no_ud_class = $NoInheritance_last;\r\n                                                                        $weight_one_ud_class = $OneUserDefined_last;\r\n                                                                        $weight_two_ud_class = $TwoUserDefined_last;\r\n                                                                        $weight_three_ud_class = $ThreeUserDefined_last;\r\n                                                                        $weight_more_ud_class = $MoreUserDefined_last;\r\n\r\n\r\n\r\n\r\n\r\n                                                                        // sorting classes end\r\n                                                                        $count = 0;\r\n                                                                        $classes = [];  //array to store class objects\r\n                                                                        $inClasses = false;\r\n                                                                        $parsed1 = null;\r\n                                                                        $parsed1=null;\r\n                                                                        $parsed2=null;\r\n                                                                        $pos=null;\r\n                                                                        $pos1=null;\r\n                                                                        $indirect = 0;\r\n                                                                        $tot_inheritance = 0;\r\n\r\n\r\n\r\n\r\n\r\n                                                                        foreach ($split\r\n\r\n                                                                        as $val) { // Traverse the array with FOREACH\r\n\r\n                                                                        $direct = 0;\r\n                                                                        $indirect = 0;\r\n                                                                        $tot_inheritance = 0;\r\n                                                                        $ci = 0;\r\n\r\n                                                                        //Calling the two functions of getBetween to sort the class_names\r\n                                                                        $val;\r\n                                                                        $arr = $val;\r\n\r\n                                                                        // $parent_class = $parsed;\r\n                                                                        // $child_class = $parsed1;\r\n                                                                        // $found_parent = $parsed2;\r\n                                                                        $parsed = getBetween($arr, \"class\", \"{\");\r\n\r\n                                                                        $parsed1 = getBetween($arr, \"class\", \"extends\");\r\n\r\n                                                                        $parsed2 = getBetween($arr, \"extends\", \"{\");\r\n\r\n                                                                        //pos_extends = pos;\r\n                                                                        //pos_class = pos1;\r\n\r\n                                                                        $word_1 = 'extends';\r\n                                                                        $pos = strpos($arr, $word_1);\r\n\r\n                                                                        $word_2 = \"class\";\r\n                                                                        $pos1 = strpos($arr, $word_2);\r\n\r\n                                                                        $pos2 = strpos($arr, $parsed2);\r\n\r\n\r\n                                                                        // $pos1 = strpos($arr, $parsed);\r\n\r\n                                                                        /*Aruni--------\r\n                                                    if ($pos == true && $parsed1 == true) {\r\n\r\n                                                        $direct++;   //direct inheritance\r\n                                                        $pr = $parsed1;\r\n\r\n\r\n                                                    } elseif ($pos == true) {\r\n\r\n                                                        $direct++;   //direct inheritance\r\n                                                        $pr = $parsed1;\r\n\r\n\r\n                                                    } else {\r\n\r\n                                                        //echo  $parsed ;\r\n                                                        $pr = $parsed;\r\n                                                    }\r\n\r\n                                                    ++$count2;\r\n                                                    if ($count2 == '25') {\r\n                                                        ++$indirect; //indirect inheritance\r\n                                                    }\r\n\r\n\r\n                                                    // Direct + Indirect;\r\n                                                    $tot_inheritance = $direct + $indirect;  //total inheritance\r\n\r\n                                                    $ci = $tot_inheritance;\r\n\r\n                                                    $total_ci += $ci;\r\n                                                    Aruni ends*/\r\n                                                                           // $direct = 0;\r\n                                                                           // $indirect = 0;\r\n                                                                            //To check the classes and push classes as objects into an array\r\n                                                                            if (is_integer($pos1)) {\r\n\r\n\r\n\r\n                                                                                if (is_integer($pos)&& is_string($parsed1)) {\r\n                                                                                    $p = $parsed1 ;\r\n\r\n                                                                                }\r\n                                                                                elseif(is_integer($pos) && is_string($parsed)){\r\n                                                                                    $p = $parsed;\r\n                                                                                }\r\n\r\n                                                                                else if(is_integer($pos1)&& is_string($parsed)){\r\n                                                                                    $p = $parsed ;\r\n\r\n                                                                                }\r\n\r\n                                                                                $className = $p;\r\n\r\n                                                                                foreach ($classes as $key) {\r\n                                                                                    if ($key->get_name() == $className) {\r\n                                                                                        $inClasses = true;\r\n                                                                                    }\r\n                                                                                }\r\n\r\n                                                                                if (!$inClasses) {\r\n\r\n                                                                                    $classObj = new inheri;\r\n                                                                                    $classObj->set_name($className);\r\n\r\n                                                                                    array_push($classes, $classObj);\r\n                                                                                }\r\n\r\n\r\n                                                                                if ($pos == true && is_string($parsed1)) {\r\n                                                                                    foreach ($classes as $key) {\r\n                                                                                        if ($key->get_name() == $parsed1) {\r\n                                                                                            $key->set_extends($parsed2);\r\n                                                                                        }\r\n                                                                                    }\r\n                                                                                }\r\n                                                                                //pushing ends\r\n\r\n                                                                               // $ci = $tot_inheritance;\r\n\r\n                                                                            }\r\n                                                                        }\r\n\r\n                                                                            $i = 0;\r\n                                                                            $cnt = 0;\r\n\r\n                                                                            //Call NIDI function recursively and set NIDI of the class object\r\n                                                                            foreach ($classes as $key) {\r\n                                                                                $firstName = $key->get_name();\r\n                                                                                $name = $key->get_extends();\r\n                                                                                if (!empty($name)) {\r\n                                                                                    $cnt ++;\r\n                                                                                    findNidi($name);\r\n                                                                                    $key->set_indirect($cnt-1);\r\n                                                                                }\r\n\r\n                                                                            }\r\n\r\n\r\n\r\n\r\n                                                                        ?>\r\n\r\n                                                                        <?php\r\n                                                                        foreach ($classes as $key) {\r\n                                                                        $tot_inheritance = $key->get_direct() * $weight_one_ud_class + $key->get_indirect();\r\n                                                                        $i++;\r\n\r\n                                                                        if ($tot_inheritance <=3 ){\r\n                                                                            $ci = $tot_inheritance;\r\n                                                                        }else{\r\n                                                                            $ci = 4;\r\n                                                                        }\r\n                                                                        $total_ci = $total_ci + $ci;\r\n\r\n\r\n                                                                        ?>\r\n\r\n                                                                            <tr>\r\n                                                                            <td><?php echo $i ; ?></td>\r\n                                                                            <td style=\"text-align: left\"><?php\r\n                                                                                echo $key->get_name();\r\n                                                                                ?></td>\r\n                                                                            <td><?php echo $key->get_direct() * $weight_one_ud_class; ?></td>\r\n                                                                            <td><?php echo $key->get_indirect(); ?></td>\r\n                                                                            <td><?php echo $tot_inheritance; ?></td>\r\n                                                                            <td><?php echo $ci; ?></td>\r\n\r\n\r\n                                                                        <?php } ?>\r\n\r\n                                                                            <?php\r\n\r\n                                                                            $i++;\r\n\r\n\r\n\r\n\r\n\r\n                                                                            }\r\n\r\n                                                                            $_SESSION['total_ci'] = $total_ci;\r\n\r\n                                                                            $query_disp_total = \"INSERT INTO ci(CiValue) VALUES('$total_ci')\";\r\n                                                                            mysqli_query($con, $query_disp_total);\r\n\r\n                                                                            ?>\r\n                                                                        </tr>\r\n\r\n\r\n                                                                        </tbody>\r\n\r\n                                                                    </table>\r\n\r\n                                                                    <!--end: Datatable -->\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n\r\n\r\n                                                        <!-- end:: Content -->\r\n                                                    </div>\r\n                                                </div>\r\n\r\n\r\n                                            </div>\r\n\r\n                                            <div class=\"kt-portlet__foot\">\r\n                                                <div class=\"kt-form__actions\">\r\n                                                    <div class=\"row\">\r\n\r\n\r\n                                                        <div class=\"col-lg-12 ml-lg-auto\">\r\n                                                            <center>\r\n\r\n                                                                <a href=\"total_weight.php\">\r\n                                                                    <button type=\"button\" href=\"total_weight.php\" class=\"btn btn-brand\">\r\n                                                                        <span><i class=\"flaticon-home\"></i></span> Total Complexity of the\r\n                                                                        Program\r\n                                                                    </button>\r\n                                                                </a>\r\n                                                            </center>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                                    <!--end::Portlet-->\r\n\r\n\r\n                                </div>\r\n\r\n\r\n                                <!--End::Row-->\r\n                            </div>\r\n                            <!--End::Dashboard 3-->\r\n                        </div>\r\n                        <!-- end:: Content -->\r\n                        </div>\r\n                        <?php\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    closedir($handle);\r\n}\r\n\r\n\r\n\r\n?>\r\n\r\n<?php include 'include/footer.php'; ?>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- inheritance.php	(revision c6365f07a658f361c9f2c0deb40780062e97a16e)
+++ inheritance.php	(date 1589103928780)
@@ -177,7 +177,7 @@
                         </div>
                         <div class="kt-subheader__toolbar">
                             <a href="total_weight.php" class="btn btn-label-warning btn-bold btn-sm btn-icon-h kt-margin-l-10">
-                                Total Weight of the Program
+                                Total Complexity of the Program
                             </a>
 
                         </div>
@@ -681,4 +681,4 @@
 
 ?>
 
-<?php include 'include/footer.php'; ?>
\ No newline at end of file
+<?php include 'include/footer.php'; ?>
Index: total_weight.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nif (!isset($_GET['reload'])) {\r\n    echo '<meta http-equiv=Refresh content=\"0;url=total_weight.php?reload=1\">';\r\n}\r\n\r\n?>\r\n\r\n<?php include 'include/header.php'; ?>\r\n<?php include 'include/aside.php'; ?>\r\n\r\n\r\n<?php\r\nfunction getContentsBetween($str, $startDelimiter, $endDelimiter)\r\n{\r\n    $contents = array();\r\n    $startDelimiterLength = strlen($startDelimiter);\r\n    $endDelimiterLength = strlen($endDelimiter);\r\n    $startFrom = $contentStart = $contentEnd = 0;\r\n    while (false !== ($contentStart = strpos($str, $startDelimiter, $startFrom))) {\r\n        $contentStart += $startDelimiterLength;\r\n        $contentEnd = strpos($str, $endDelimiter, $contentStart);\r\n        if (false === $contentEnd) {\r\n            break;\r\n        }\r\n        $contents[] = substr($str, $contentStart, $contentEnd - $contentStart);\r\n        $startFrom = $contentEnd + $endDelimiterLength;\r\n    }\r\n\r\n    return $contents;\r\n\r\n}\r\n\r\n?>\r\n\r\n\r\n<?php\r\n\r\n$ds = DIRECTORY_SEPARATOR;  // Store directory separator (DIRECTORY_SEPARATOR) to a simple variable. This is just a personal preference as we hate to type long variable name.\r\n$storeFolder = 'uploads';   // Declare a variable for destination folder.\r\n\r\n$tempFile = $_FILES['file']['tmp_name'];        // If file is sent to the page, store the file object to a temporary variable.\r\n$targetPath = __DIR__ . $ds . $storeFolder . $ds;  // Create the absolute path of the destination folder.\r\n\r\n$newFileName = $_FILES['file']['name'];\r\n$targetFile = $targetPath . $newFileName;  // Create the absolute path of the uploaded file destination.\r\nmove_uploaded_file($tempFile, $targetFile); // Move uploaded file to destination.\r\n\r\n// Include and initialize Extractor class (Zip file extracting)\r\nrequire 'Extractor.class.php';\r\n$extractor = new Extractor;\r\n\r\n// Path of archive file\r\n$archivePath = $targetFile;\r\n\r\n// Destination path\r\n$destPath = $storeFolder;\r\n\r\n// Extract archive file\r\n$extract = $extractor->extract($archivePath, $storeFolder);\r\n\r\n$dir_name = $storeFolder;\r\n$ext = 'zip';\r\n\r\nif ($extract) {\r\n    echo $GLOBALS['status']['success'];\r\n    unlink_recursive($dir_name, $ext);\r\n\r\n} else {\r\n    echo $GLOBALS['status']['error'];\r\n}\r\n\r\n\r\nif ($handle = opendir('uploads')) {\r\n\r\n    while (false !== ($entry = readdir($handle))) {\r\n        if ($entry != \".\" && $entry != \"..\") {\r\n\r\n            $entry_arr_af = preg_split(\"/\\.java/\", $entry);\r\n            $entry_arr = array_filter($entry_arr_af);\r\n\r\n\r\n\r\n            foreach ($entry_arr as $files) {\r\n\r\n                $content = file_get_contents('uploads/' . $entry);\r\n\r\n                //  Removes single line '//' comments, treats blank characters\r\n                $single = preg_replace('![ \\t]*//.*[ \\t]*[\\r\\n]!', '', $content);\r\n\r\n                $multiple = preg_replace('#/\\*[^*]*\\*+([^/][^*]*\\*+)*/#', '', $single);\r\n                $excess = preg_replace('/\\s+/', ' ', $multiple);\r\n                $trim = trim($excess, \" \");\r\n                //$for_semicolon = preg_replace('/;(?=((?!\\().)*?\\))/', '余', $trim);\r\n                $for_semicolon = preg_replace_callback(/** @lang text */ '~\\b(?:while|for)\\s*(\\((?:[^()]++|(?1))*\\))~u', static function ($m) {\r\n                    return str_replace(';', '余', $m[0]);\r\n                },\r\n                    $trim);\r\n                $split = preg_split('/(?<=[;{}])/', $for_semicolon, 0, PREG_SPLIT_NO_EMPTY);\r\n\r\n                $_SESSION['split_code'] = $split;\r\n                $_SESSION['files'] = $entry;\r\n                $_SESSION['trimmed'] = $trim;\r\n                $_SESSION['entireCode'] = $trim;\r\n                $_SESSION['filename'] = $entry;\r\n\r\n\r\n\r\n?>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                <?php include 'include/total_weight_content.php'; ?>\r\n\r\n\r\n<?php\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n    closedir($handle);\r\n}\r\n\r\n?>\r\n\r\n\r\n<?php include 'include/footer.php'; ?>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- total_weight.php	(revision c6365f07a658f361c9f2c0deb40780062e97a16e)
+++ total_weight.php	(date 1589101604740)
@@ -31,6 +31,89 @@
 
 }
 
+//function to sort the class_name using getBetween function
+function getBetween($codeLine, $start, $end)
+{
+    $codeLine = " " . $codeLine;
+    $ini = strpos($codeLine, $start);
+    if ($ini == 0)
+        return " ";
+    $ini += strlen($start);
+    $len = strpos($codeLine, $end, $ini) - $ini;
+    return substr($codeLine, $ini, $len);
+}
+
+//To sort out the classes
+class inheri
+{
+    public $name;
+    public $indirect;
+    public $superClass;
+
+    function __construct()
+    {
+        $this->name = "";
+        $this->indirect = 0;
+        $this->superClass = null;
+    }
+
+    function set_name($name)
+    {
+        $this->name = $name;
+    }
+
+    function set_indirect($indirect)
+    {
+        $this->indirect = $indirect;
+    }
+
+    function set_extends($var)
+    {
+        $this->superClass = $var;
+    }
+
+    function get_extends()
+    {
+        return $this->superClass;
+    }
+
+    function get_name()
+    {
+        return $this->name;
+    }
+
+    function get_direct()
+    {
+        if (is_string($this->superClass)) {
+            $ix = 1;
+        } else {
+            $ix = 0;
+        }
+        return $ix;
+    }
+
+    function get_indirect()
+    {
+        return $this->indirect;
+    }
+}
+
+//Function to find NIDI
+function findNidi($extend)
+{
+    global $classes;
+    global $cnt;
+    foreach ($classes as $key) {
+        if ($key->get_name() == $extend) {
+            $name1 = $key->get_extends();
+            if (!empty($name1)) {
+                $cnt++;
+                findNidi($name1);
+            }
+        }
+    }
+}
+
 ?>
 
 
Index: .idea/dataSources.local.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/dataSources.local.xml	(revision c6365f07a658f361c9f2c0deb40780062e97a16e)
+++ .idea/dataSources.local.xml	(revision c6365f07a658f361c9f2c0deb40780062e97a16e)
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project version="4">
-  <component name="dataSourceStorageLocal">
-    <data-source name="weightcomplexity@localhost" uuid="ade8e5f1-61b9-4fcf-a624-3a9056071675">
-      <database-info product="MySQL" version="8.0.18" jdbc-version="4.2" driver-name="MySQL Connector/J" driver-version="mysql-connector-java-8.0.15 (Revision: 79a4336f140499bd22dd07f02b708e163844e3d5)" dbms="MYSQL" exact-version="8.0.18" exact-driver-version="8.0">
-        <extra-name-characters>#@</extra-name-characters>
-        <identifier-quote-string>`</identifier-quote-string>
-      </database-info>
-      <case-sensitivity plain-identifiers="lower" quoted-identifiers="lower" />
-      <secret-storage>master_key</secret-storage>
-      <user-name>root</user-name>
-      <schema-mapping>
-        <introspection-scope>
-          <node kind="schema" qname="@" />
-        </introspection-scope>
-      </schema-mapping>
-    </data-source>
-  </component>
-</project>
\ No newline at end of file
Index: .idea/dataSources.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DataSourceManagerImpl\" format=\"xml\" multifile-model=\"true\">\r\n    <data-source source=\"LOCAL\" name=\"weightcomplexity@localhost\" uuid=\"ade8e5f1-61b9-4fcf-a624-3a9056071675\">\r\n      <driver-ref>mysql.8</driver-ref>\r\n      <synchronize>true</synchronize>\r\n      <jdbc-driver>com.mysql.cj.jdbc.Driver</jdbc-driver>\r\n      <jdbc-url>jdbc:mysql://localhost:3308/weightcomplexity</jdbc-url>\r\n    </data-source>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/dataSources.xml	(revision c6365f07a658f361c9f2c0deb40780062e97a16e)
+++ .idea/dataSources.xml	(date 1589100069135)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="DataSourceManagerImpl" format="xml" multifile-model="true">
-    <data-source source="LOCAL" name="weightcomplexity@localhost" uuid="ade8e5f1-61b9-4fcf-a624-3a9056071675">
+    <data-source source="LOCAL" name="weightcomplexity@localhost" uuid="c11a078a-d61d-40ff-bc85-e850ce02fa4f">
       <driver-ref>mysql.8</driver-ref>
       <synchronize>true</synchronize>
       <jdbc-driver>com.mysql.cj.jdbc.Driver</jdbc-driver>
Index: public/index.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- public/index.html	(date 1589120151246)
+++ public/index.html	(date 1589120151246)
@@ -0,0 +1,65 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <meta charset="utf-8">
+    <meta name="viewport" content="width=device-width, initial-scale=1">
+    <title>Welcome to Firebase Hosting</title>
+
+    <!-- update the version number as needed -->
+    <script defer src="/__/firebase/7.14.3/firebase-app.js"></script>
+    <!-- include only the Firebase features as you need -->
+    <script defer src="/__/firebase/7.14.3/firebase-auth.js"></script>
+    <script defer src="/__/firebase/7.14.3/firebase-database.js"></script>
+    <script defer src="/__/firebase/7.14.3/firebase-messaging.js"></script>
+    <script defer src="/__/firebase/7.14.3/firebase-storage.js"></script>
+    <!-- initialize the SDK after all desired features are loaded -->
+    <script defer src="/__/firebase/init.js"></script>
+
+    <style media="screen">
+      body { background: #ECEFF1; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
+      #message { background: white; max-width: 360px; margin: 100px auto 16px; padding: 32px 24px; border-radius: 3px; }
+      #message h2 { color: #ffa100; font-weight: bold; font-size: 16px; margin: 0 0 8px; }
+      #message h1 { font-size: 22px; font-weight: 300; color: rgba(0,0,0,0.6); margin: 0 0 16px;}
+      #message p { line-height: 140%; margin: 16px 0 24px; font-size: 14px; }
+      #message a { display: block; text-align: center; background: #039be5; text-transform: uppercase; text-decoration: none; color: white; padding: 16px; border-radius: 4px; }
+      #message, #message a { box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); }
+      #load { color: rgba(0,0,0,0.4); text-align: center; font-size: 13px; }
+      @media (max-width: 600px) {
+        body, #message { margin-top: 0; background: white; box-shadow: none; }
+        body { border-top: 16px solid #ffa100; }
+      }
+    </style>
+  </head>
+  <body>
+    <div id="message">
+      <h2>Welcome</h2>
+      <h1>Firebase Hosting Setup Complete</h1>
+      <p>You're seeing this because you've successfully setup Firebase Hosting. Now it's time to go build something extraordinary!</p>
+      <a target="_blank" href="https://firebase.google.com/docs/hosting/">Open Hosting Documentation</a>
+    </div>
+    <p id="load">Firebase SDK Loading&hellip;</p>
+
+    <script>
+      document.addEventListener('DOMContentLoaded', function() {
+        // // ヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰ
+        // // The Firebase SDK is initialized and available here!
+        //
+        // firebase.auth().onAuthStateChanged(user => { });
+        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
+        // firebase.messaging().requestPermission().then(() => { });
+        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
+        //
+        // // ヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰヰ
+
+        try {
+          let app = firebase.app();
+          let features = ['auth', 'database', 'messaging', 'storage'].filter(feature => typeof app[feature] === 'function');
+          document.getElementById('load').innerHTML = `Firebase SDK loaded with ${features.join(', ')}`;
+        } catch (e) {
+          console.error(e);
+          document.getElementById('load').innerHTML = 'Error loading the Firebase SDK, check the console.';
+        }
+      });
+    </script>
+  </body>
+</html>
Index: public/404.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- public/404.html	(date 1589120150931)
+++ public/404.html	(date 1589120150931)
@@ -0,0 +1,33 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <meta charset="utf-8">
+    <meta name="viewport" content="width=device-width, initial-scale=1">
+    <title>Page Not Found</title>
+
+    <style media="screen">
+      body { background: #ECEFF1; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
+      #message { background: white; max-width: 360px; margin: 100px auto 16px; padding: 32px 24px 16px; border-radius: 3px; }
+      #message h3 { color: #888; font-weight: normal; font-size: 16px; margin: 16px 0 12px; }
+      #message h2 { color: #ffa100; font-weight: bold; font-size: 16px; margin: 0 0 8px; }
+      #message h1 { font-size: 22px; font-weight: 300; color: rgba(0,0,0,0.6); margin: 0 0 16px;}
+      #message p { line-height: 140%; margin: 16px 0 24px; font-size: 14px; }
+      #message a { display: block; text-align: center; background: #039be5; text-transform: uppercase; text-decoration: none; color: white; padding: 16px; border-radius: 4px; }
+      #message, #message a { box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); }
+      #load { color: rgba(0,0,0,0.4); text-align: center; font-size: 13px; }
+      @media (max-width: 600px) {
+        body, #message { margin-top: 0; background: white; box-shadow: none; }
+        body { border-top: 16px solid #ffa100; }
+      }
+    </style>
+  </head>
+  <body>
+    <div id="message">
+      <h2>404</h2>
+      <h1>Page Not Found</h1>
+      <p>The specified file was not found on this website. Please check the URL for mistakes and try again.</p>
+      <h3>Why am I seeing this?</h3>
+      <p>This page was generated by the Firebase Command-Line Interface. To modify it, edit the <code>404.html</code> file in your project's configured <code>public</code> directory.</p>
+    </div>
+  </body>
+</html>
diff --git include/size_content.php include/size_content.php
deleted file mode 100644
diff --git uploads/JumpingBox.java uploads/JumpingBox.java
